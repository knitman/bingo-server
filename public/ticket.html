<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Κουπόνι</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<h2>ΚΟΥΠΟΝΙ</h2>
<input id="name" placeholder="Όνομα">
<input id="photo" placeholder="URL φωτογραφίας">
<button onclick="make()">ΔΗΜΙΟΥΡΓΙΑ</button>

<div id="grid"></div>
<button onclick="alert('BINGO!')">BINGO</button>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
let nums = [];

function make(){
  nums = Array.from({length:25},()=>Math.floor(Math.random()*90)+1);
  grid.innerHTML="";
  nums.forEach(n=>{
    const d=document.createElement("div");
    d.className="cell";
    d.textContent=n;
    grid.appendChild(d);
  });

  socket.emit("newTicket",{
    id: Math.random().toString(36),
    name: name.value,
    photo: photo.value,
    nums
  });
}

socket.on("number", n=>{
  document.querySelectorAll(".cell")
    .forEach(c=>{
      if(+c.textContent===n) c.classList.add("mark");
    });
});
</script>

</body>
</html>
